<%- include('../layouts/header') %>
<% if(register === 'success' ) { %>
    <h3>Successfully registered</h3>
<% } %>

<form action="" method="get" class="form__control">
    <select class="form-select" name="country" id="country" onchange="this.form.submit()">
        <option value="">Search user by country name...</option>
        <% for (let i = 0; i < countriesJson.length; i++) { %>
            <option value="<%= countriesJson[i].name %>" <%= selectedCountry === countriesJson[i].name ? 'selected' : '' %>><%= countriesJson[i].name %></option>
        <% } %>
    </select>
</form>

<table class="table table-striped">
    <thead>
    <tr>
        <td class="table-success">First name</td>
        <td class="table-success">Email</td>
        <td class="table-success">Country</td>
    </tr>
    </thead>
    <% for (const user of users) { %>
        <tr>
            <td class="table-primary">
                <%= user.firstName %>
            </td>
            <td class="table-secondary">
                <%= user.lastName %> (<%= user.email %>
            </td>
            <td class="table-info">
                <%= user.countryId %>
            </td>
        </tr>
    <% } %>
</table>

<%- include('../layouts/footer') %>
